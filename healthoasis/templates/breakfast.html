<!DOCTYPE html>
<html>
<head>
    <title>HealthOasis Quiz - Breakfast</title>
    <style>
        /* Center align the welcome message */
        .welcome-message {
            text-align: center;
            margin-bottom: 20px;
        }

        /* Center align the breakfast options */
        .options {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Style the option buttons */
        .option-button {
            width: 200px;
            height: 200px;
            margin: 10px;
            border-radius: 50%;
            background-color: #f2f2f2;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            cursor: pointer;
        }

        /* Center align the next button */
        .next-button {
            text-align: center;
            margin-top: 20px;
        }

        /* Style the next button */
        .next-button button {
            padding: 10px 20px;
            font-size: 16px;
        }

        /* Display the selected breakfast options */
        .selected-options {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="welcome-message">
        <h1>Thanks! Now let's talk about your diet.</h1>
        <p>{{ form.breakfast_choice.label }}</p>
    </div>

    <form method="POST">
        {% csrf_token %}
        
        <div class="options">
            {% for radio in form.breakfast_choice %}
                <div class="option-button">
                    <label for="{{ radio.id_for_label }}">
                        {{ radio.choice_label }}
                        <img src="" alt="Breakfast Option" id="{{ radio.id_for_label }}Image">
                        <button>Select</button>
                    </label>
                </div>
            {% endfor %}
        </div>

        <div class="selected-options">
            <p>Selected Breakfast Option: <span id="selectedOption"></span></p>
            <p>Healthiness: <span id="selectedHealthiness"></span></p>
        </div>

        <div class="next-button">
            <button type="submit">Next</button>
        </div>
    </form>

    <script>
        // Breakfast options lists
        var breakfastOptions = {
            healthy: {
                food: ['Oatmeal', 'Whole Grain Bread', 'Boiled Eggs', 'Avocado', 'Apple'],
                images: ['oatmeal.jpg', 'whole-grain.jpg', 'boiled-egg.jpg', 'avocado.jpg', 'apple.jpg']
            },
            medium: {
                food: ['Corn Flakes', 'Sourdough Bread', 'Scrambled Tofu', 'Baked Beans', 'Greek Yogurt'],
                images: ['corn-flakes.jpg', 'sourdough.jpg', 'tofu.jpg', 'bakedbeans.jpg', 'yogurt.jpg']
            },
            unhealthy: {
                food: ['Frosted Flakes', 'White Bread', 'Sausage', 'Bacon', 'Hot Chocolate'],
                images: ['frostedflakes.jpg', 'white-bread.jpg', 'sausage.jpg', 'bacon.jpg', 'hot-chocolate.jpg']
            }
            // Add more options in a similar format
        };

        // Selected breakfast option and healthiness
        var selectedBreakfastOption = '';
        var selectedBreakfastHealthiness = '';

        // Function to randomly select an item from an array
        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // Function to select breakfast option
        function selectBreakfast(healthiness) {
            selectedBreakfastHealthiness = healthiness;
            var option = breakfastOptions[healthiness];
            selectedBreakfastOption = getRandomItem(option.food);

            // Display the selected breakfast option and healthiness
            document.getElementById('selectedOption').textContent = selectedBreakfastOption;
            document.getElementById('selectedHealthiness').textContent = healthiness;

        // Set the image source based on the selected breakfast option
        var imageIndex = option.food.indexOf(selectedBreakfastOption);
        var imageFilename = option.images[imageIndex];
        var imageSource = "/static/images/" + imageFilename; // Use the correct static URL path
        document.getElementById('option1Image').setAttribute('src', imageSource);
    }

    // Function to save breakfast choice and redirect to the next page
    function saveBreakfastChoice() {
        // Save the selected breakfast option and healthiness (e.g., in local storage or send to the server)
        console.log('Selected Breakfast Option:', selectedBreakfastOption);
        console.log('Healthiness:', selectedBreakfastHealthiness);

        // Redirect to the lunch page
        window.location.href = "lunch_choices.html";
    }
    </script>
</body>
</html>
